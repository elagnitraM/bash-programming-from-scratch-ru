## Интерпретатор командной строки

Мы познакомились с интерпретаторами. Они позволяют загружать с жёсткого диска и исполнять текстовые файлы с исходным кодом программ. Но это не единственный способ применения интерпретатора. Альтернативный способ заключается в его запуске в интерактивном режиме. В таком режиме команды для исполнения будут читаться не из файла, а из командной строки. То есть пользователь может набирать команды и сразу их исполнять. Программы поддерживающие такую возможность называются [**интерпретаторами командной строки**](https://ru.wikipedia.org/wiki/Интерпретатор_командной_строки).

Как правило, интерпретаторы командной строки являются частью ОС и предоставляют пользователю интерфейс для доступа к её функциям. Также через командную строку происходит запуск других приложений.


Как было отмечено ранее, интерфейс командной строки возник раньше чем GUI. Поэтому он был единственным средством управления компьютером в ОС 70-х и 80-х годов.

### Востребованность

Прежде чем начать писать скрипты на Bash, было бы полезно освоить работу его интерпретатора в режиме командной строки. Мы уже рассматривали этот тип интерфейса с исторической точки зрения. Он был повсеместно распространён 40 лет назад на относительно слабых по современным меркам компьютерах. Возникший позднее GUI полностью его вытеснил, по крайней мере на платформе PC.

Может возникнуть вопрос - есть ли какая-то практическая польза от изучения Bash сегодня? Ведь судя по всему следует, что это устаревшая технология, давно отжившая свой век. Это утверждение ошибочно. Не просто так Bash входит в [дистрибутивы](https://ru.wikipedia.org/wiki/Дистрибутив_операционной_системы) современных версий macOS и Linux. В Windows тоже есть редко используемый обычными пользователями интерпретатор командной строки [Cmd.exe](https://ru.wikipedia.org/wiki/Cmd.exe), поддерживающий исполнение [пакетных файлов](https://ru.wikipedia.org/wiki/Пакетный_файл). Впоследствии он был заменён на более мощный [PowerShell](https://ru.wikipedia.org/wiki/PowerShell). Задумайтесь над этим: в 2006 году Microsoft разрабатывает новый интерпретатор командной строки. На это определённо были свои причины.

Для чего же используется интерфейс командной строки сегодня? Прежде всего для задач [администрирования](https://ru.wikipedia.org/wiki/Системный_администратор) ОС. Современная ОС представляет собой множество взаимодействующих программ, у многих из которых есть свои параметры и настройки. Было бы очень трудоёмко разрабатывать GUI для конфигурации каждого из этих параметров, особенно если в обычной работе они используются редко. Но доступ к такой внутренней конфигурации и функциям становится крайне необходим, чтобы восстановить вышедшую из строя ОС. Кроме того, при сбое системы, её GUI может оказаться недоступен. Утилиты же восстановления часто имеют только интерфейс командной строки.

I> Интерпретатор Bash хорошо интегрирован в операционные системы семейств Linux и macOS. Через него можно получить доступ практически ко всем важным функциям ОС. Однако, интеграция Bash с Windows достаточно слабая. Вместо него для целей администрирования системы лучше подойдёт PowerShell. Почему же тогда мы изучаем Bash? Потому что он совместим со стандартом [POSIX](https://ru.wikipedia.org/wiki/POSIX) и на практике встречается чаще, чем PowerShell. Кроме того, в отличие от PowerShell, Bash доступен на всех популярных сегодня ОС.

CLI удобен при [подключении](https://ru.wikipedia.org/wiki/Программы_удалённого_администрирования) к удалённому компьютеру по сети. В этом случае для нормальной работы GUI требуется стабильное и быстрое сетевое соединения, которое доступно не всегда.

Когда возникают неполадки, знание интерфейса командной строки окажется полезным. Но нужно ли оно рядовому пользователю? На самом деле, CLI может значительно ускорить работу и рутинные операции. Хорошим примером служит обработка большого количества файлов. Представтье себе, что у вас есть десять файлов. К имени каждого из них вам нужно добавить некоторый суффикс. Эти переименования можно достаточно быстро выполнить вручную через [Проводник Windows](https://ru.wikipedia.org/wiki/Проводник_Windows). Теперь допустим, что вам надо переименовать не десять файлов, а пять тысяч. Как долго вы будете заниматься этим через GUI? Этот пример демонстрирует одну из сильных сторон CLI - многие команды интерпретатора хорошо [масштабируются](https://wiki.monavista.ru/Масштабируемость). В данном случае это означает, что они не требуют дополнительных действий от пользователя при значительном увеличении входных данных.

Программисты в своей профессиональной деятельности часто сталкиваются с большим количеством текстовых файлов с исходным кодом. Для работы с ними есть много удобных редакторов. Но эти редакторы опять же предоставляют графический интерфейс. Часто возникают ситуации, когда требуется внести изменение во все файлы проекта разом. В этом случае мы опять сталкиваемся с проблемой масштабируемости и многократного повторения одних и тех же действий вручную. Интерпретатор командной строки значительно ускоряет работу в подобных случаях.

Есть ещё одна важная особенность разработки [программного обеспечения](https://ru.wikipedia.org/wiki/Программное_обеспечение) (ПО), малоизвестная обычным пользователям. Практически все компиляторы и интерпретаторы имеют только интерфейс командной строки. Это связано с особенностями решаемой ими задачи, котоаря заключается в обработке большого числа файлов. Как мы уже выяснили, GUI плохо с ней справляется. Он неэффективен, и именно поэтому почти всегда отсутствует.

I> Некоторые читатели могут возразить, что большинство [**интегрированных сред разработки**](https://ru.wikipedia.org/wiki/Интегрированная_среда_разработки) (integrated development environment, IDE) предоставляет возможность компиляции и запуска программ из графического интерфейса. Это так, но на самом деле, когда вы нажимаете на соответствующую кнопку GUI среды, происходит вызов компилятора с CLI интерфейсом. Список файлов и флаги компиляции передаются ему как параметры командной строки.

С разработкой связано ещё одно полезное, но неочевидное свойство командной строки. Программу, имеющую только текстовый интерфейс, обычно быстрее и проще разрабатывать, чем аналогичную с GUI. Почему это важно? Разработчики часто сталкиваются в своей работе с объёмными задачами, требующими большого количества действий. В этом случае принято подсчитывать: сколько времени уйдёт на выполнение задачи вручну и сколько на написание скрипта для автоматизации. Поскольку программы с текстовым интерфейсом быстрее писать, чаще выбор будет сделан в пользу вспомогательных скриптов. Это в свою очередь позволит избежать ошибок при ручной работе.

Надеюсь, я смог вас убедить, что базовые навыки работы с интерфейсом командной строки крайне важны для любого ИТ специалиста.