## Инструменты для разработки

Для ввода команд Bash мы использовали эмулятор терминала. При этом набранный текст хранился в его оперативной памяти. После исполнения команды, она сохранялась в файле `~/.bash_history`. Для разработки программ этих средств нам не хватит. Нам нужен удобный [редактор](https://ru.wikipedia.org/wiki/Редактор_исходного_кода), который позволит создавать файлы с исходным кодом и сохранять их на жёстком диске.

### Редактор исходного кода

Писать Bash скрипты можно в любом текстовом редакторе. Вы даже можете воспользоваться стандартным приложением Windows под названием [Notepad](https://ru.wikipedia.org/wiki/Блокнот_(программа)) (Блокнот). Но в нём отсутствуют какие-либо дополнительные возмжности для работы с кодом. Намного лучше будет воспользоваться приложением, разработанным специально для написания исходного кода программ. Предлагаю рассмотреть три популярных редактора исходного кода. Из них вы можете выбрать тот, который вам больше понравится.

W> Обратите внимание, что офисный пакет MS Office и его открытый аналог [LibreOffice](https://ru.wikipedia.org/wiki/LibreOffice) плохо подходят для написания кода. Ключевая особенность текстовых редакторов в том, что они сохраняют данные в текстовых файлах. Офисные пакеты по умолчанию используют бинарные или [XML-подобные](https://ru.wikipedia.org/wiki/XML) форматы, которые интерпретаторы и компиляторы не смогут их прочитать.

[**Notepad++**](https://ru.wikipedia.org/wiki/Notepad++#cite_note-8) - это быстрый и минималистичный свободный редактор с открытм исходным кодом. Он разрабатывается только под платформу Windows. Поэтому если вы используете macOS или Linux, он вам не подойдёт. Его последнюю версию можно скачать на [офицальном сайте](https://notepad-plus-plus.org/downloads/).

[**Sublime Text**](https://ru.wikipedia.org/wiki/Sublime_Text#cite_note-Features-4) проприетарный [**кросс-платформенный**](https://ru.wikipedia.org/wiki/Кроссплатформенность) текстовый редактор. Кросс-платформенность означает, что программа может запускаться более чем на одной ОС или [**аппаратной платформе**](https://ru.wikipedia.org/wiki/Аппаратная_платформа_компьютера). Вы можете использовать Sublime Text бесплатно, но в этому случае будет регулярно выводится диалоговое окно с предложением купить лицензию. Скачать редактор можно на [офицальном сайте](https://www.sublimetext.com/).

[*Visual Studio Code*](https://ru.wikipedia.org/wiki/Visual_Studio_Code) - свободный кросс-платформенный редактор от компании Microsoft с открытым исходным кодом. Он доступен для скачивания на [офицальном сайте](https://code.visualstudio.com/).

Все перечисленные редакторы имеют следующие возможности для удобства работы с исходным кодом:

* [Подсветка синтаксиса](https://ru.wikipedia.org/wiki/Подсветка_синтаксиса).
* [Автодополнение](https://ru.wikipedia.org/wiki/Автодополнение)
* Поддержка и конвертирование широко распространённых [кодировок](https://ru.wikipedia.org/wiki/Набор_символов).

Конечно, редактировать исходный код можно и без этих возможностей. Но они значительно ускоряют работу и облегчают поиск ошибок в программе.

### Интеграция редактора с Bash

Вы можете запускать редактор исходного кода через графический интерфейс своей ОС. Например, в случае Windows через меню Пуск или иконку рабочего стола.

Если вы предпочитаете запуск через Bash, есть несколько способов. В прошлой главе мы рассмотрели варианты по абсолютному и относительному пути, а также по имени исполняемого файла. Для последнего варианта вам нужно добавить путь к каталогу установки редактора в переменную окружения `PATH`.

Рассмотрим для примера редактор Notepad++. Его путь установки по умолчанию следующий:
{line-numbers: false}
```
C:\Program Files (86)\Notepad++
```

Вы всегда можете уточнить его в свойствах ярлыка на рабочем столе или в меню Пуск. В Unix окружении этот путь будет выглядеть следующим образом:
{line-numbers: false}
```
/c/Program Files (x86)/Notepad++
```

Если вы попробуете запустить Notepad++ по этому абсолютному пути, будет выведено сообщение об ошибке как на иллюстрации 3-1.

{caption: "Иллюстрация 3-1. Результат запуска Notepad++"}
![Результат запуска Notepad++](images/BashScripting/notepad-error.png)

В чём причина ошибки? На самом деле в этой команде есть несколько проблем. Рассмотрим их по порядку. Для начала попробуем выполнить следующую команду `cd`:
{line-numbers: false}
```
cd /c/Program Files
```

Результат её выполнения приведён на иллюстрации 3-2.

{caption: "Иллюстрация 3-2. Результат выполнения `cd`"}
![Результат cd](images/BashScripting/cd-many-arguments.png)

Bash сообщает нам о том, что в команду было передано больше параметров, чем ожидается. Как вы помните, `cd` ожидает на вход только путь к целевому каталогу. Ошибка возникла потому, что Bash интерпретирует пробел не как часть пути, а как разделитель между параметрами. Таким образом в нашем в команду команду `cd` было передано две строки: `/c/Program` и `Files`.

Есть два способа избежать подобной ошибки:

1. Заключить всю строку в двойные кавычки: {line-numbers: false}
```
cd "/c/Program Files"
```

2. Экранировать все пробелы с помощью обратного слэша:
{line-numbers: false}
```
cd /c/Program\ Files
```

Если выполнить каждую из этих команд, они отработают корректно.

Теперь попробуем перейти по пути `/c/Program Files (x86)`:
{line-numbers: false}
```
cd /c/Program Files (x86)
```

Как мы выяснили, Bash обрабатывает пробелы по своему усмотрению. Поэтому выполним их экранирование:
{line-numbers: false}
```
cd /c/Program\ Files\ (x86)
```

Эта команда всё равно завершается с ошибкой, как на иллюстрации 3-3.

{caption: "Иллюстрация 3-3. Результат выполнения `cd`"}
![Результат cd](images/BashScripting/cd-unexpected-token.png)

Эту же ошибку мы получили при запуске Notepad++. Проблема заключается в том, что кавычки `(` и `)` являются частью синтаксиса Bash. Поэтому он пытается их интерпретировать. Мы уже сталкивались с этой проблемой, когда группировали выражения команды `find`. Для её решения опять же подойдёт экранирование или двойные скобки:
{line-numbers: false}
```
 cd /c/Program\ Files\ \(x86\)
 cd "/c/Program Files (x86)"
```

Добавьте этот путь в переменную `PATH` в файле `.bash_profile`. После редактирования его строки 24, 25 и 26 должны выглядеть следующим образом:
{number-from: "23"}
```
# Set PATH so it includes user's private bin if it exists
if [ -d "${HOME}/bin" ] ; then
    PATH="/c/Program Files (x86)/Notepad++/firefox/bin:${PATH}"
fi
```

----

Но также возможно интегрировать редактор в Bash. Тогда вы сможете запускать его так же, как и любую из GNU утилит.

 Для этого добавьте путь до каталога его установки в файл `.bash_profile`:

// TODO: код

// TODO: Альтернативное решение для Linux и macOS - символьаня ссылка в /usr/local/bin