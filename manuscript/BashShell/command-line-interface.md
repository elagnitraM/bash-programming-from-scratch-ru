## Командный интерпретатор

Мы познакомились с общими принципами работы интерпретаторов. Они позволяют загружать с жёсткого диска и исполнять текстовые файлы с исходным кодом программ. Но это не единственный способ работы с ними. Также многие интерпретаторы можно использовать в интерактивном режиме. В этом режиме команды для исполнения читаются не из файла, а из командной строки. То есть пользователь набирает команду и интерпретатор сразу её исполняет. Программа, поддерживающая такую возможность, называется [**интерпретатором командной строки**](https://ru.wikipedia.org/wiki/Интерпретатор_командной_строки), командным интерпретатором или оболочкой ОС (shell). Как правило, оболочка является частью ОС и предоставляет пользователю интерфейс для доступа к её функциям. Также через командную строку происходит запуск установленных приложений.

Как было отмечено ранее, интерфейс командной строки возник раньше чем GUI. Поэтому он был единственным средством для интерактивной работы с компьютером в операционных системах 1960-х и 1970-х годов.

### Востребованность

Мы уже рассматривали интерфейс командной строки с исторической точки зрения. Он был повсеместно распространён 40 лет назад на относительно слабых по современным меркам компьютерах. Возникший позднее GUI полностью его вытеснил, по крайней мере на платформе ПК.

Может возникнуть вопрос — есть ли какая-то практическая польза от изучения сегодня CLI и Bash в частности? Ведь судя по всему следует, что это устаревшая технология, давно отжившая свой век. Это утверждение ошибочно. Не просто так Bash входит в [дистрибутивы](https://ru.wikipedia.org/wiki/Дистрибутив_операционной_системы) актуальных версий macOS и Linux. В Windows тоже есть редко используемый командный интерпретатор [Cmd.exe](https://ru.wikipedia.org/wiki/Cmd.exe), поддерживающий исполнение [пакетных файлов](https://ru.wikipedia.org/wiki/Пакетный_файл). Впоследствии он был заменён на более мощный [PowerShell](https://ru.wikipedia.org/wiki/PowerShell). Задумайтесь над этим: в 2006 году Microsoft разрабатывает новый командный интерпретатор. На это определённо были свои причины.

Для чего же используется интерфейс командной строки сегодня? Прежде всего для задач [администрирования](https://ru.wikipedia.org/wiki/Системный_администратор) ОС. Современная ОС представляет собой множество взаимодействующих программ, у многих из которых есть свои параметры и настройки. Было бы очень трудоёмко разрабатывать GUI для конфигурации каждого из этих параметров, особенно если в обычной работе они используются редко. Но доступ к такой внутренней конфигурации и функциям становится крайне необходим, чтобы восстановить вышедшую из строя ОС. Кроме того, при сбое системы её GUI может оказаться неработоспособным. Именно поэтому утилиты восстановления зачастую имеют только интерфейс командной строки.

I> Интерпретатор Bash хорошо интегрирован в операционные системы семейств Linux и macOS. Через него можно получить доступ практически ко всем важным функциям этих ОС. Однако, интеграция Bash с Windows достаточно слабая. Вместо него для целей администрирования системы лучше подойдёт PowerShell. Почему же тогда мы изучаем Bash? Потому что он совместим со стандартом POSIX и на практике встречается чаще, чем PowerShell. Кроме того, Bash в отличие от PowerShell доступен на всех популярных сегодня ОС.

CLI удобен при [подключении](https://ru.wikipedia.org/wiki/Программы_удалённого_администрирования) к удалённому компьютеру по сети. В этом случае для нормальной работы GUI требуется стабильное и быстрое сетевое соединения, которое доступно не всегда.

Когда возникают неполадки, знание интерфейса командной строки окажется полезным. Но нужно ли оно рядовому пользователю? На самом деле, CLI может значительно ускорить работу и рутинные операции. Хорошим примером служит обработка большого количества файлов. Представьте себе, что у вас есть десять файлов. К имени каждого из них вам нужно добавить некоторый суффикс. Их можно достаточно быстро переименовать вручную через [Проводник Windows](https://ru.wikipedia.org/wiki/Проводник_Windows). Теперь допустим, что вам надо переименовать не десять файлов, а пять тысяч. Сколько времени уйдёт на эту задачу при использовании GUI? Этот пример демонстрирует одну из сильных сторон CLI — большинство команд интерпретатора хорошо [масштабируются](https://wiki.monavista.ru/Масштабируемость). В данном случае это означает, что они не требуют дополнительных действий от пользователя при значительном увеличении входных данных.

Программисты в своей профессиональной деятельности часто сталкиваются с большим количеством текстовых файлов с исходным кодом. Для работы с ними есть много удобных редакторов. Но эти редакторы опять же предоставляют графический интерфейс. Часто возникают ситуации, когда требуется внести изменение во все файлы проекта разом. В этом случае мы опять сталкиваемся с проблемой масштабируемости и многократного повторения одних и тех же действий вручную. Интерпретатор командной строки значительно ускоряет работу в подобных случаях.

Есть ещё одна важная особенность разработки [программного обеспечения](https://ru.wikipedia.org/wiki/Программное_обеспечение) (ПО), малоизвестная обычным пользователям. Практически все компиляторы и интерпретаторы имеют только интерфейс командной строки. Это связано со спецификой решаемой ими задачи: обработать большое число входных файлов. Как мы уже выяснили, GUI справляется с ней плохо. Он неэффективен, и именно поэтому почти всегда отсутствует у компиляторов.

I> Некоторые читатели могут возразить, что большинство [**интегрированных сред разработки**](https://ru.wikipedia.org/wiki/Интегрированная_среда_разработки) (integrated development environment, IDE) предоставляет возможность компиляции и запуска программ из графического интерфейса. Это так. Но на самом деле, когда вы нажимаете на соответствующую кнопку IDE, происходит вызов компилятора с CLI интерфейсом. Список файлов и флаги компиляции передаются ему как параметры командной строки.

С разработкой ПО связано ещё одно полезное, но неочевидное свойство командной строки. Программу, имеющую только текстовый интерфейс, обычно быстрее и проще разрабатывать чем аналогичную с GUI. Почему это может быть важно? Разработчики часто сталкиваются в своей работе с задачами, требующими большого количества повторяющихся действий. В этом случае принято подсчитывать: сколько времени уйдёт на выполнение задачи вручную и сколько на написание скрипта для автоматизации. Поскольку программы с текстовым интерфейсом быстрее писать, чаще выбор будет сделан в пользу вспомогательных скриптов. Это в свою очередь позволит избежать ошибок, свойственных любой ручной работе.

Надеюсь, я смог вас убедить, что базовые навыки работы с интерфейсом командной строки крайне важны для любого ИТ специалиста.
