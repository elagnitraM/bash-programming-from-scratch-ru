## Командный интерпретатор

Интерпретаторы могут работать в двух режимах: не интерактивном и интерактивном. Первый режим нам уже знаком. В нём интерпретатор читает с диска текстовые файлы с исходным кодом программы и построчно их исполняет. В интерактивном режиме пользователь вводит команды через [командную строку в окне терминала](https://ru.wikibooks.org/wiki/Введение_в_администрирование_UNIX/Командная_строка_UNIX#Терминал_и_командная_строка). После нажатия клавиши Enter, команда исполняется. Интерпретатор с интерактивным режимом работы называется [оболочкой ОС](https://ru.wikipedia.org/wiki/Интерпретатор_командной_строки) (shell) или командным интерпретатором.

Оболочка является частью ОС и предоставляет пользователю интерфейс для доступа к её настройкам и функциям. В Linux с помощью оболочки вы можете запускать программы и системные сервисы, управлять периферийными и внутренними устройствами, обращаться к ядру ОС. Также командная строка позволяет запустить любое установленное приложение.

### Востребованность

Есть ли практическая польза от изучения интерфейса командной строки (CLI)? Этот интерфейс использовался 40 лет назад на компьютерах, работающих в тысячи раз медленнее современных. Сегодня на ПК его полностью вытеснил графический интерфейс. Кажется, что CLI — это устаревшая технология, давно отжившая свой век. Это утверждение ошибочно. Не просто так Bash входит во все [дистрибутивы](https://ru.wikipedia.org/wiki/Дистрибутив_операционной_системы) macOS и Linux. В Windows тоже есть командный интерпретатор [Cmd.exe](https://ru.wikipedia.org/wiki/Cmd.exe). В 2006 году компания Microsoft заменила его на новый [PowerShell](https://ru.wikipedia.org/wiki/PowerShell). Задумайтесь над этим фактом: разработчик самой популярной ОС для ПК тратит деньги и время на создание новой оболочки. Значит польза от командного интерпретатора всё-таки есть.

Какие задачи решает командный интерпретатор в современных ОС? Прежде всего это инструмент для [администрирования системы](https://ru.wikipedia.org/wiki/Системный_администратор). ОС кроме ядра включает в себя взаимодействующие программные модули: библиотеки, сервисы и утилиты. У многих из них есть настройки и специальные режимы работы. Большинство настроек и режимов рядовому пользователю не нужны. Поэтому графический интерфейс не даёт к ним доступа. Но доступ к системным сервисам и утилитам нужен, чтобы восстановить вышедшую из строя ОС. Кроме того, при сбое системы графический интерфейс часто оказывается неработоспособным. Поэтому утилиты восстановления часто имеют только интерфейс командной строки.

I> Интерпретатор Bash хорошо интегрирован в Linux и macOS. Через него доступны все важные функции этих ОС. Однако, интеграция Bash с Windows достаточно слабая. Вместо него для администрирования системы лучше подойдёт PowerShell. Почему же тогда мы изучаем Bash? Потому что он совместим со стандартом POSIX и на практике встречается чаще, чем PowerShell. Кроме того, Bash в отличие от PowerShell доступен на всех популярных сегодня ОС.

Кроме администрирования командный интерфейс эффективен для [подключения](https://ru.wikipedia.org/wiki/Программы_удалённого_администрирования) к удалённому компьютеру по сети. Сегодня широко распространены графические программы для такого подключения: TeamViewer, Remote Desktop и другие. Но они требуют стабильного и быстрого сетевого соединения. Если связь плохая, программа будет работать медленно и постоянно завершаться с ошибкой. Командный интерфейс лишён этого недостатка. При нестабильном соединении если отправленная вами команда была потеряна, она будет отправляться снова и снова. Таким образом удалённый компьютер рано или поздно её получит и исполнит. Поэтому CLI интерфейс работает надёжнее.

Когда возникают неполадки, знание интерфейса командной строки окажется полезным. Но нужно ли оно рядовому пользователю? На самом деле, CLI может значительно ускорить работу и рутинные операции. Хорошим примером служит обработка большого количества файлов. Представьте себе, что у вас есть десять файлов. К имени каждого из них вам нужно добавить некоторый суффикс. Их можно достаточно быстро переименовать вручную через [Проводник Windows](https://ru.wikipedia.org/wiki/Проводник_Windows). Теперь допустим, что вам надо переименовать не десять файлов, а пять тысяч. Сколько времени уйдёт на эту задачу при использовании GUI? Этот пример демонстрирует одну из сильных сторон CLI — большинство команд интерпретатора хорошо [масштабируются](https://wiki.monavista.ru/Масштабируемость). В данном случае это означает, что они не требуют дополнительных действий от пользователя при значительном увеличении входных данных.

Программисты в своей профессиональной деятельности часто сталкиваются с большим количеством текстовых файлов с исходным кодом. Для работы с ними есть много удобных редакторов. Но эти редакторы опять же предоставляют графический интерфейс. Часто возникают ситуации, когда требуется внести изменение во все файлы проекта разом. В этом случае мы опять сталкиваемся с проблемой масштабируемости и многократного повторения одних и тех же действий вручную. Интерпретатор командной строки значительно ускоряет работу в подобных случаях.

Есть ещё одна важная особенность разработки [программного обеспечения](https://ru.wikipedia.org/wiki/Программное_обеспечение) (ПО), малоизвестная обычным пользователям. Практически все компиляторы и интерпретаторы имеют только интерфейс командной строки. Это связано со спецификой решаемой ими задачи: обработать большое число входных файлов. Как мы уже выяснили, GUI справляется с ней плохо. Он неэффективен, и именно поэтому почти всегда отсутствует у компиляторов.

I> Некоторые читатели могут возразить, что большинство [**интегрированных сред разработки**](https://ru.wikipedia.org/wiki/Интегрированная_среда_разработки) (integrated development environment, IDE) предоставляет возможность компиляции и запуска программ из графического интерфейса. Это так. Но на самом деле, когда вы нажимаете на соответствующую кнопку IDE, происходит вызов компилятора с CLI интерфейсом. Список файлов и флаги компиляции передаются ему как параметры командной строки.

С разработкой ПО связано ещё одно полезное, но неочевидное свойство командной строки. Программу, имеющую только текстовый интерфейс, обычно быстрее и проще разрабатывать чем аналогичную с GUI. Почему это может быть важно? Разработчики часто сталкиваются в своей работе с задачами, требующими большого количества повторяющихся действий. В этом случае принято подсчитывать: сколько времени уйдёт на выполнение задачи вручную и сколько на написание скрипта для автоматизации. Поскольку программы с текстовым интерфейсом быстрее писать, чаще выбор будет сделан в пользу вспомогательных скриптов. Это в свою очередь позволит избежать ошибок, свойственных любой ручной работе.

Надеюсь, я смог вас убедить, что базовые навыки работы с интерфейсом командной строки крайне важны для любого ИТ специалиста.
